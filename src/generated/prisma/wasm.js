
/* !!! This is code generated by Prisma. Do not edit directly. !!!
/* eslint-disable */
// biome-ignore-all lint: generated file

Object.defineProperty(exports, "__esModule", { value: true });

const {
  PrismaClientKnownRequestError,
  PrismaClientUnknownRequestError,
  PrismaClientRustPanicError,
  PrismaClientInitializationError,
  PrismaClientValidationError,
  getPrismaClient,
  sqltag,
  empty,
  join,
  raw,
  skip,
  Decimal,
  Debug,
  objectEnumValues,
  makeStrictEnum,
  Extensions,
  warnOnce,
  defineDmmfProperty,
  Public,
  getRuntime,
  createParam,
} = require('./runtime/wasm-engine-edge.js')


const Prisma = {}

exports.Prisma = Prisma
exports.$Enums = {}

/**
 * Prisma Client JS version: 6.19.1
 * Query Engine version: c2990dca591cba766e3b7ef5d9e8a84796e47ab7
 */
Prisma.prismaVersion = {
  client: "6.19.1",
  engine: "c2990dca591cba766e3b7ef5d9e8a84796e47ab7"
}

Prisma.PrismaClientKnownRequestError = PrismaClientKnownRequestError;
Prisma.PrismaClientUnknownRequestError = PrismaClientUnknownRequestError
Prisma.PrismaClientRustPanicError = PrismaClientRustPanicError
Prisma.PrismaClientInitializationError = PrismaClientInitializationError
Prisma.PrismaClientValidationError = PrismaClientValidationError
Prisma.Decimal = Decimal

/**
 * Re-export of sql-template-tag
 */
Prisma.sql = sqltag
Prisma.empty = empty
Prisma.join = join
Prisma.raw = raw
Prisma.validator = Public.validator

/**
* Extensions
*/
Prisma.getExtensionContext = Extensions.getExtensionContext
Prisma.defineExtension = Extensions.defineExtension

/**
 * Shorthand utilities for JSON filtering
 */
Prisma.DbNull = objectEnumValues.instances.DbNull
Prisma.JsonNull = objectEnumValues.instances.JsonNull
Prisma.AnyNull = objectEnumValues.instances.AnyNull

Prisma.NullTypes = {
  DbNull: objectEnumValues.classes.DbNull,
  JsonNull: objectEnumValues.classes.JsonNull,
  AnyNull: objectEnumValues.classes.AnyNull
}





/**
 * Enums
 */
exports.Prisma.TransactionIsolationLevel = makeStrictEnum({
  ReadUncommitted: 'ReadUncommitted',
  ReadCommitted: 'ReadCommitted',
  RepeatableRead: 'RepeatableRead',
  Serializable: 'Serializable'
});

exports.Prisma.UserScalarFieldEnum = {
  id: 'id',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt',
  displayName: 'displayName',
  email: 'email',
  emailVerifiedAt: 'emailVerifiedAt',
  timezone: 'timezone',
  locale: 'locale',
  encryptionKeyVersion: 'encryptionKeyVersion',
  keyRecoveryMethod: 'keyRecoveryMethod',
  keySalt: 'keySalt'
};

exports.Prisma.SessionScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  tokenHash: 'tokenHash',
  expiresAt: 'expiresAt',
  deviceId: 'deviceId',
  deviceName: 'deviceName',
  lastActiveAt: 'lastActiveAt',
  createdAt: 'createdAt'
};

exports.Prisma.VerificationTokenScalarFieldEnum = {
  identifier: 'identifier',
  token: 'token',
  expiresAt: 'expiresAt',
  createdAt: 'createdAt'
};

exports.Prisma.EventScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  type: 'type',
  payload: 'payload',
  timestamp: 'timestamp',
  sequence: 'sequence',
  aggregateId: 'aggregateId',
  aggregateType: 'aggregateType'
};

exports.Prisma.DreamEntryScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  ciphertext: 'ciphertext',
  iv: 'iv',
  keyVersion: 'keyVersion',
  audioUrl: 'audioUrl',
  title: 'title',
  emotions: 'emotions',
  vividness: 'vividness',
  lucidity: 'lucidity',
  dreamTypes: 'dreamTypes',
  sleepQuality: 'sleepQuality',
  hoursSlept: 'hoursSlept',
  wakeTime: 'wakeTime',
  wakingLifeLink: 'wakingLifeLink',
  capturedAt: 'capturedAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.JournalFactScalarFieldEnum = {
  id: 'id',
  dreamEntryId: 'dreamEntryId',
  factType: 'factType',
  value: 'value',
  confidence: 'confidence',
  ontologyVersion: 'ontologyVersion',
  modelVersion: 'modelVersion',
  promptVersion: 'promptVersion',
  startIndex: 'startIndex',
  endIndex: 'endIndex',
  extractedAt: 'extractedAt'
};

exports.Prisma.TagScalarFieldEnum = {
  id: 'id',
  name: 'name',
  slug: 'slug',
  category: 'category',
  taxonomyId: 'taxonomyId',
  taxonomyVersion: 'taxonomyVersion',
  usageCount: 'usageCount'
};

exports.Prisma.DreamTagScalarFieldEnum = {
  id: 'id',
  dreamEntryId: 'dreamEntryId',
  tagId: 'tagId',
  source: 'source',
  createdAt: 'createdAt'
};

exports.Prisma.CensusInstrumentScalarFieldEnum = {
  id: 'id',
  slug: 'slug',
  name: 'name',
  description: 'description',
  version: 'version',
  isActive: 'isActive',
  isRequired: 'isRequired',
  sortOrder: 'sortOrder',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CensusSectionScalarFieldEnum = {
  id: 'id',
  instrumentId: 'instrumentId',
  slug: 'slug',
  name: 'name',
  description: 'description',
  icon: 'icon',
  sortOrder: 'sortOrder',
  estimatedTime: 'estimatedTime'
};

exports.Prisma.CensusQuestionScalarFieldEnum = {
  id: 'id',
  sectionId: 'sectionId',
  slug: 'slug',
  text: 'text',
  helpText: 'helpText',
  type: 'type',
  props: 'props',
  isRequired: 'isRequired',
  validation: 'validation',
  sortOrder: 'sortOrder',
  irtParams: 'irtParams',
  showWhen: 'showWhen',
  groupId: 'groupId',
  groupLabel: 'groupLabel'
};

exports.Prisma.CensusAnswerScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  questionId: 'questionId',
  value: 'value',
  instrumentVersion: 'instrumentVersion',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.CensusProgressScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  sectionProgress: 'sectionProgress',
  totalCompleted: 'totalCompleted',
  totalQuestions: 'totalQuestions',
  scores: 'scores',
  lastActivityAt: 'lastActivityAt',
  completedAt: 'completedAt'
};

exports.Prisma.CensusCategoryScalarFieldEnum = {
  id: 'id',
  slug: 'slug',
  name: 'name',
  description: 'description',
  icon: 'icon',
  color: 'color',
  sortOrder: 'sortOrder',
  createdAt: 'createdAt'
};

exports.Prisma.CensusFormScalarFieldEnum = {
  id: 'id',
  categoryId: 'categoryId',
  slug: 'slug',
  name: 'name',
  description: 'description',
  estimatedMinutes: 'estimatedMinutes',
  sortOrder: 'sortOrder',
  prerequisiteFormId: 'prerequisiteFormId',
  promptThreshold: 'promptThreshold',
  createdAt: 'createdAt'
};

exports.Prisma.CategoryProgressScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  categoryId: 'categoryId',
  promptAnswers: 'promptAnswers',
  formsStarted: 'formsStarted',
  formsComplete: 'formsComplete',
  lastActivityAt: 'lastActivityAt'
};

exports.Prisma.PromptScalarFieldEnum = {
  id: 'id',
  text: 'text',
  type: 'type',
  responseType: 'responseType',
  responseProps: 'responseProps',
  isActive: 'isActive',
  frequency: 'frequency',
  targetingRules: 'targetingRules',
  studyId: 'studyId',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.PromptResponseScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  promptId: 'promptId',
  value: 'value',
  shownAt: 'shownAt',
  respondedAt: 'respondedAt',
  skipped: 'skipped'
};

exports.Prisma.ConsentScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  scope: 'scope',
  version: 'version',
  granted: 'granted',
  timestamp: 'timestamp',
  receiptHash: 'receiptHash',
  policyHash: 'policyHash',
  jurisdiction: 'jurisdiction',
  ipHash: 'ipHash'
};

exports.Prisma.WeatherAggregateScalarFieldEnum = {
  id: 'id',
  metric: 'metric',
  period: 'period',
  periodStart: 'periodStart',
  value: 'value',
  sampleN: 'sampleN',
  dpEpsilon: 'dpEpsilon',
  dpDelta: 'dpDelta',
  minNThreshold: 'minNThreshold',
  region: 'region',
  methodVersion: 'methodVersion',
  computedAt: 'computedAt'
};

exports.Prisma.PersonalWeatherScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  weather: 'weather',
  streaks: 'streaks',
  lastComputedAt: 'lastComputedAt'
};

exports.Prisma.StudyScalarFieldEnum = {
  id: 'id',
  slug: 'slug',
  title: 'title',
  description: 'description',
  institution: 'institution',
  dataScope: 'dataScope',
  duration: 'duration',
  consentText: 'consentText',
  consentVersion: 'consentVersion',
  status: 'status',
  startsAt: 'startsAt',
  endsAt: 'endsAt',
  maxParticipants: 'maxParticipants',
  createdAt: 'createdAt',
  updatedAt: 'updatedAt'
};

exports.Prisma.StudyParticipationScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  studyId: 'studyId',
  consentedAt: 'consentedAt',
  consentVersion: 'consentVersion',
  status: 'status',
  withdrawnAt: 'withdrawnAt',
  withdrawalReason: 'withdrawalReason',
  completedAt: 'completedAt'
};

exports.Prisma.EmotionScalarFieldEnum = {
  id: 'id',
  name: 'name',
  slug: 'slug',
  valence: 'valence',
  arousal: 'arousal',
  parentId: 'parentId',
  translations: 'translations',
  version: 'version'
};

exports.Prisma.SymbolScalarFieldEnum = {
  id: 'id',
  name: 'name',
  slug: 'slug',
  category: 'category',
  description: 'description',
  interpretations: 'interpretations',
  translations: 'translations',
  version: 'version'
};

exports.Prisma.ThemeScalarFieldEnum = {
  id: 'id',
  name: 'name',
  slug: 'slug',
  description: 'description',
  relatedSlugs: 'relatedSlugs',
  translations: 'translations',
  version: 'version'
};

exports.Prisma.SyncQueueItemScalarFieldEnum = {
  id: 'id',
  userId: 'userId',
  operation: 'operation',
  resource: 'resource',
  payload: 'payload',
  status: 'status',
  attempts: 'attempts',
  lastError: 'lastError',
  createdAt: 'createdAt',
  processedAt: 'processedAt'
};

exports.Prisma.SortOrder = {
  asc: 'asc',
  desc: 'desc'
};

exports.Prisma.JsonNullValueInput = {
  JsonNull: Prisma.JsonNull
};

exports.Prisma.NullableJsonNullValueInput = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull
};

exports.Prisma.QueryMode = {
  default: 'default',
  insensitive: 'insensitive'
};

exports.Prisma.NullsOrder = {
  first: 'first',
  last: 'last'
};

exports.Prisma.JsonNullValueFilter = {
  DbNull: Prisma.DbNull,
  JsonNull: Prisma.JsonNull,
  AnyNull: Prisma.AnyNull
};


exports.Prisma.ModelName = {
  User: 'User',
  Session: 'Session',
  VerificationToken: 'VerificationToken',
  Event: 'Event',
  DreamEntry: 'DreamEntry',
  JournalFact: 'JournalFact',
  Tag: 'Tag',
  DreamTag: 'DreamTag',
  CensusInstrument: 'CensusInstrument',
  CensusSection: 'CensusSection',
  CensusQuestion: 'CensusQuestion',
  CensusAnswer: 'CensusAnswer',
  CensusProgress: 'CensusProgress',
  CensusCategory: 'CensusCategory',
  CensusForm: 'CensusForm',
  CategoryProgress: 'CategoryProgress',
  Prompt: 'Prompt',
  PromptResponse: 'PromptResponse',
  Consent: 'Consent',
  WeatherAggregate: 'WeatherAggregate',
  PersonalWeather: 'PersonalWeather',
  Study: 'Study',
  StudyParticipation: 'StudyParticipation',
  Emotion: 'Emotion',
  Symbol: 'Symbol',
  Theme: 'Theme',
  SyncQueueItem: 'SyncQueueItem'
};
/**
 * Create the Client
 */
const config = {
  "generator": {
    "name": "client",
    "provider": {
      "fromEnvVar": null,
      "value": "prisma-client-js"
    },
    "output": {
      "value": "Z:\\Documents\\Projects\\Dream Census\\v2\\src\\generated\\prisma",
      "fromEnvVar": null
    },
    "config": {
      "engineType": "library"
    },
    "binaryTargets": [
      {
        "fromEnvVar": null,
        "value": "windows",
        "native": true
      }
    ],
    "previewFeatures": [
      "postgresqlExtensions"
    ],
    "sourceFilePath": "Z:\\Documents\\Projects\\Dream Census\\v2\\prisma\\schema.prisma",
    "isCustomOutput": true
  },
  "relativeEnvPaths": {
    "rootEnvPath": null,
    "schemaEnvPath": "../../../.env"
  },
  "relativePath": "../../../prisma",
  "clientVersion": "6.19.1",
  "engineVersion": "c2990dca591cba766e3b7ef5d9e8a84796e47ab7",
  "datasourceNames": [
    "db"
  ],
  "activeProvider": "postgresql",
  "inlineDatasources": {
    "db": {
      "url": {
        "fromEnvVar": "DATABASE_URL",
        "value": null
      }
    }
  },
  "inlineSchema": "// =============================================================================\n// PRISMA CONFIGURATION\n// =============================================================================\n\ngenerator client {\n  provider        = \"prisma-client-js\"\n  previewFeatures = [\"postgresqlExtensions\"]\n  output          = \"../src/generated/prisma\"\n}\n\ndatasource db {\n  provider   = \"postgresql\"\n  url        = env(\"DATABASE_URL\")\n  extensions = [pgvector(map: \"vector\")]\n}\n\n// =============================================================================\n// CORE: USERS & AUTHENTICATION\n// =============================================================================\n\nmodel User {\n  id        String   @id @default(cuid())\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  // Profile (optional, user-controlled)\n  displayName     String?\n  email           String?   @unique\n  emailVerifiedAt DateTime?\n  timezone        String    @default(\"UTC\")\n  locale          String    @default(\"en\")\n\n  // Key management\n  encryptionKeyVersion Int     @default(1)\n  keyRecoveryMethod    String? // \"passphrase\" | \"device\" | \"none\"\n  keySalt              Bytes? // For passphrase-based derivation\n\n  // Relations\n  sessions            Session[]\n  dreamEntries        DreamEntry[]\n  censusAnswers       CensusAnswer[]\n  promptResponses     PromptResponse[]\n  consents            Consent[]\n  events              Event[]\n  studyParticipations StudyParticipation[]\n  categoryProgress    CategoryProgress[]\n\n  // Indexes\n  @@index([email])\n  @@index([createdAt])\n}\n\nmodel Session {\n  id     String @id @default(cuid())\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  tokenHash String   @unique // SHA-256 of session token\n  expiresAt DateTime\n\n  // Device binding (optional)\n  deviceId     String?\n  deviceName   String?\n  lastActiveAt DateTime @default(now())\n\n  createdAt DateTime @default(now())\n\n  @@index([userId])\n  @@index([expiresAt])\n}\n\nmodel VerificationToken {\n  identifier String // Email or phone\n  token      String   @unique\n  expiresAt  DateTime\n\n  createdAt DateTime @default(now())\n\n  @@unique([identifier, token])\n}\n\n// =============================================================================\n// EVENT SOURCING\n// =============================================================================\n\nmodel Event {\n  id     String @id @default(cuid())\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  type      String // \"journal.entry.created\", etc.\n  payload   Json\n  timestamp DateTime @default(now())\n\n  // Ordering guarantee\n  sequence BigInt @default(autoincrement())\n\n  // Optionally link to aggregate\n  aggregateId   String?\n  aggregateType String?\n\n  @@index([userId, type])\n  @@index([type])\n  @@index([timestamp])\n  @@index([sequence])\n  @@index([aggregateId, aggregateType])\n}\n\n// =============================================================================\n// JOURNAL: DREAM ENTRIES\n// =============================================================================\n\nmodel DreamEntry {\n  id     String @id @default(cuid())\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  // Encrypted content\n  ciphertext Bytes? // AES-GCM encrypted narrative\n  iv         Bytes? // Initialization vector\n  keyVersion Int    @default(1)\n\n  // Optional: audio recording URL (encrypted separately)\n  audioUrl String?\n\n  // User-reported structure (not encrypted)\n  title      String?\n  emotions   String[] // Emotion tags\n  vividness  Int? // 0-100\n  lucidity   String? // \"no\" | \"maybe\" | \"yes\"\n  dreamTypes String[] // \"nightmare\", \"recurring\", \"lucid\", etc.\n\n  // Sleep context\n  sleepQuality Int? // 0-100\n  hoursSlept   Float?\n  wakeTime     DateTime?\n\n  // Waking life link\n  wakingLifeLink String?\n\n  // Metadata\n  capturedAt DateTime @default(now())\n  updatedAt  DateTime @updatedAt\n\n  // Relations\n  facts JournalFact[]\n  tags  DreamTag[]\n\n  @@index([userId, capturedAt])\n  @@index([capturedAt])\n}\n\nmodel JournalFact {\n  id           String     @id @default(cuid())\n  dreamEntryId String\n  dreamEntry   DreamEntry @relation(fields: [dreamEntryId], references: [id], onDelete: Cascade)\n\n  factType String // \"emotion\", \"theme\", \"symbol\", \"entity\", etc.\n  value    Json // Typed fact data (see journal-fact-schema.md)\n\n  // Confidence and provenance\n  confidence      Float  @default(1.0) // 0-1\n  ontologyVersion Int // Version of taxonomy used\n  modelVersion    String // AI model identifier\n  promptVersion   Int // Extraction prompt version\n\n  // Optional: text span reference\n  startIndex Int?\n  endIndex   Int?\n\n  extractedAt DateTime @default(now())\n\n  @@index([dreamEntryId, factType])\n  @@index([factType])\n  @@index([modelVersion])\n}\n\nmodel Tag {\n  id       String @id @default(cuid())\n  name     String\n  slug     String @unique\n  category String // \"symbol\", \"emotion\", \"theme\", \"custom\"\n\n  // Taxonomy linkage\n  taxonomyId      String?\n  taxonomyVersion Int?\n\n  // Usage tracking\n  usageCount Int @default(0)\n\n  // Relations\n  dreamTags DreamTag[]\n\n  @@index([category])\n  @@index([slug])\n}\n\nmodel DreamTag {\n  id           String     @id @default(cuid())\n  dreamEntryId String\n  dreamEntry   DreamEntry @relation(fields: [dreamEntryId], references: [id], onDelete: Cascade)\n  tagId        String\n  tag          Tag        @relation(fields: [tagId], references: [id], onDelete: Cascade)\n\n  // Source: \"user\" | \"ai_suggested\" | \"ai_auto\"\n  source String @default(\"user\")\n\n  createdAt DateTime @default(now())\n\n  @@unique([dreamEntryId, tagId])\n  @@index([tagId])\n}\n\n// =============================================================================\n// CENSUS: STRUCTURED QUESTIONNAIRE\n// =============================================================================\n\nmodel CensusInstrument {\n  id          String  @id @default(cuid())\n  slug        String  @unique\n  name        String\n  description String?\n  version     Int     @default(1)\n\n  // Configuration\n  isActive   Boolean @default(true)\n  isRequired Boolean @default(false)\n\n  // Ordering\n  sortOrder Int @default(0)\n\n  // Relations\n  sections CensusSection[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([isActive, sortOrder])\n}\n\nmodel CensusSection {\n  id           String           @id @default(cuid())\n  instrumentId String\n  instrument   CensusInstrument @relation(fields: [instrumentId], references: [id], onDelete: Cascade)\n\n  slug        String\n  name        String\n  description String?\n  icon        String?\n\n  // Ordering\n  sortOrder Int @default(0)\n\n  // Estimated time (seconds)\n  estimatedTime Int @default(120)\n\n  // Relations\n  questions CensusQuestion[]\n\n  @@unique([instrumentId, slug])\n  @@index([instrumentId, sortOrder])\n}\n\nmodel CensusQuestion {\n  id        String        @id @default(cuid())\n  sectionId String\n  section   CensusSection @relation(fields: [sectionId], references: [id], onDelete: Cascade)\n\n  // Question content\n  slug     String\n  text     String\n  helpText String?\n\n  // Question type\n  type  String // \"statement\", \"single_choice\", \"multi_choice\", \"scale\", \"text\", \"number\", etc.\n  props Json // Type-specific props (choices, scale range, etc.)\n\n  // Validation\n  isRequired Boolean @default(false)\n  validation Json? // Zod schema as JSON\n\n  // Ordering\n  sortOrder Int @default(0)\n\n  // Adaptive scoring (optional)\n  irtParams Json? // Item Response Theory parameters\n\n  // NEW: Conditional display logic\n  showWhen Json? // { questionId: string, operator: 'eq'|'ne'|'contains'|'gt'|'lt', value: any }\n\n  // NEW: Question grouping for matrix questions\n  groupId    String?\n  groupLabel String?\n\n  // Relations\n  answers CensusAnswer[]\n\n  @@unique([sectionId, slug])\n  @@index([sectionId, sortOrder])\n}\n\nmodel CensusAnswer {\n  id         String         @id @default(cuid())\n  userId     String\n  user       User           @relation(fields: [userId], references: [id], onDelete: Cascade)\n  questionId String\n  question   CensusQuestion @relation(fields: [questionId], references: [id], onDelete: Cascade)\n\n  value Json // Answer value\n\n  // Versioning\n  instrumentVersion Int @default(1)\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@unique([userId, questionId])\n  @@index([userId])\n  @@index([questionId])\n}\n\nmodel CensusProgress {\n  id     String @id @default(cuid())\n  userId String @unique\n\n  // Per-section progress\n  sectionProgress Json // { [sectionId]: { completed: number, total: number } }\n\n  // Overall\n  totalCompleted Int @default(0)\n  totalQuestions Int @default(0)\n\n  // Scoring\n  scores Json? // Section and overall scores\n\n  lastActivityAt DateTime  @default(now())\n  completedAt    DateTime?\n\n  @@index([userId])\n}\n\n// =============================================================================\n// CENSUS CATEGORIES & FORMS (New unified system)\n// =============================================================================\n\nmodel CensusCategory {\n  id          String  @id @default(cuid())\n  slug        String  @unique\n  name        String\n  description String?\n  icon        String?\n  color       String?\n  sortOrder   Int     @default(0)\n\n  forms CensusForm[]\n\n  createdAt DateTime @default(now())\n\n  @@index([sortOrder])\n}\n\nmodel CensusForm {\n  id         String         @id @default(cuid())\n  categoryId String\n  category   CensusCategory @relation(fields: [categoryId], references: [id], onDelete: Cascade)\n\n  slug             String\n  name             String\n  description      String?\n  estimatedMinutes Int     @default(5)\n  sortOrder        Int     @default(0)\n\n  // Unlock mechanics\n  prerequisiteFormId String?\n  promptThreshold    Int? // Answers needed in category to unlock\n\n  createdAt DateTime @default(now())\n\n  @@unique([categoryId, slug])\n  @@index([categoryId, sortOrder])\n}\n\nmodel CategoryProgress {\n  id         String @id @default(cuid())\n  userId     String\n  user       User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n  categoryId String\n\n  promptAnswers Int      @default(0)\n  formsStarted  String[] @default([])\n  formsComplete String[] @default([])\n\n  lastActivityAt DateTime @default(now())\n\n  @@unique([userId, categoryId])\n  @@index([userId])\n}\n\n// =============================================================================\n// PROMPTS: DAILY QUESTIONS\n// =============================================================================\n\nmodel Prompt {\n  id String @id @default(cuid())\n\n  // Content\n  text String\n  type String // \"reflection\", \"exploration\", \"research\", \"creative\"\n\n  // Response configuration\n  responseType  String // \"text\", \"scale\", \"choice\", \"multi_choice\"\n  responseProps Json? // Type-specific configuration\n\n  // Scheduling\n  isActive  Boolean @default(true)\n  frequency String? // \"daily\", \"weekly\", \"once\"\n\n  // Targeting (optional)\n  targetingRules Json? // Rules for who sees this prompt\n\n  // Research linkage (optional)\n  studyId String?\n  study   Study?  @relation(fields: [studyId], references: [id])\n\n  // Relations\n  responses PromptResponse[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([isActive])\n  @@index([type])\n}\n\nmodel PromptResponse {\n  id       String @id @default(cuid())\n  userId   String\n  user     User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n  promptId String\n  prompt   Prompt @relation(fields: [promptId], references: [id], onDelete: Cascade)\n\n  value Json // Response value\n\n  // Engagement tracking\n  shownAt     DateTime\n  respondedAt DateTime @default(now())\n  skipped     Boolean  @default(false)\n\n  @@unique([userId, promptId, shownAt])\n  @@index([userId])\n  @@index([promptId])\n  @@index([respondedAt])\n}\n\n// =============================================================================\n// CONSENT: PRIVACY LADDER\n// =============================================================================\n\nmodel Consent {\n  id     String @id @default(cuid())\n  userId String\n  user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n\n  // Scope: \"personal\", \"insights\", \"commons\", \"study:{studyId}\"\n  scope   String\n  version Int // Consent policy version at time of action\n\n  // State\n  granted Boolean\n\n  // Audit\n  timestamp    DateTime @default(now())\n  receiptHash  String // SHA-256 hash for verification\n  policyHash   String // Hash of policy text at time of consent\n  jurisdiction String? // Region for compliance\n\n  // IP address (hashed) for legal purposes\n  ipHash String?\n\n  @@index([userId, scope])\n  @@index([scope])\n  @@index([timestamp])\n}\n\n// =============================================================================\n// WEATHER: AGGREGATES\n// =============================================================================\n\nmodel WeatherAggregate {\n  id String @id @default(cuid())\n\n  // Metric identity\n  metric      String // \"emotion_joy\", \"theme_flying\", etc.\n  period      String // \"hourly\", \"daily\", \"weekly\", \"monthly\"\n  periodStart DateTime\n\n  // Aggregated value\n  value   Json // Metric-specific aggregation\n  sampleN Int // Number of contributing data points\n\n  // Privacy parameters\n  dpEpsilon     Float? // Differential privacy epsilon\n  dpDelta       Float? // Differential privacy delta\n  minNThreshold Int    @default(50) // Minimum N to display\n\n  // Geographic (optional)\n  region String? // ISO region code\n\n  // Provenance\n  methodVersion Int\n  computedAt    DateTime @default(now())\n\n  @@unique([metric, period, periodStart, region])\n  @@index([metric])\n  @@index([period, periodStart])\n  @@index([region])\n}\n\nmodel PersonalWeather {\n  id     String @id @default(cuid())\n  userId String @unique\n\n  // Current computed weather\n  weather Json // Personal weather data\n\n  // Streaks and patterns\n  streaks Json? // Capture streaks, patterns\n\n  lastComputedAt DateTime @default(now())\n\n  @@index([userId])\n}\n\n// =============================================================================\n// RESEARCH: STUDIES\n// =============================================================================\n\nmodel Study {\n  id String @id @default(cuid())\n\n  // Study metadata\n  slug        String  @unique\n  title       String\n  description String\n  institution String?\n\n  // Study configuration\n  dataScope Json // What data is requested\n  duration  String? // Expected duration\n\n  // Consent\n  consentText    String // Full consent document\n  consentVersion Int    @default(1)\n\n  // Status\n  status   String    @default(\"draft\") // \"draft\", \"recruiting\", \"active\", \"completed\", \"archived\"\n  startsAt DateTime?\n  endsAt   DateTime?\n\n  // Participation limits\n  maxParticipants Int?\n\n  // Relations\n  participations StudyParticipation[]\n  prompts        Prompt[]\n\n  createdAt DateTime @default(now())\n  updatedAt DateTime @updatedAt\n\n  @@index([status])\n  @@index([slug])\n}\n\nmodel StudyParticipation {\n  id      String @id @default(cuid())\n  userId  String\n  user    User   @relation(fields: [userId], references: [id], onDelete: Cascade)\n  studyId String\n  study   Study  @relation(fields: [studyId], references: [id], onDelete: Cascade)\n\n  // Consent\n  consentedAt    DateTime @default(now())\n  consentVersion Int\n\n  // Status\n  status           String    @default(\"active\") // \"active\", \"withdrawn\", \"completed\"\n  withdrawnAt      DateTime?\n  withdrawalReason String?\n  completedAt      DateTime?\n\n  @@unique([userId, studyId])\n  @@index([studyId])\n  @@index([status])\n}\n\n// =============================================================================\n// TAXONOMY: REFERENCE DATA\n// =============================================================================\n\nmodel Emotion {\n  id String @id @default(cuid())\n\n  name String\n  slug String @unique\n\n  // Dimensional model\n  valence Float // -1 (negative) to 1 (positive)\n  arousal Float // 0 (calm) to 1 (excited)\n\n  // Hierarchy\n  parentId String?\n  parent   Emotion?  @relation(\"EmotionHierarchy\", fields: [parentId], references: [id])\n  children Emotion[] @relation(\"EmotionHierarchy\")\n\n  // Localization\n  translations Json? // { \"en\": \"Joy\", \"es\": \"Alegr√≠a\", ... }\n\n  version Int @default(1)\n\n  @@index([slug])\n  @@index([parentId])\n}\n\nmodel Symbol {\n  id String @id @default(cuid())\n\n  name String\n  slug String @unique\n\n  // Categorization\n  category String // \"archetype\", \"common\", \"cultural\"\n\n  // Description\n  description String?\n\n  // Common interpretations\n  interpretations Json? // Array of interpretation objects\n\n  // Localization\n  translations Json?\n\n  version Int @default(1)\n\n  @@index([slug])\n  @@index([category])\n}\n\nmodel Theme {\n  id String @id @default(cuid())\n\n  name String\n  slug String @unique\n\n  description String?\n\n  // Related themes\n  relatedSlugs String[]\n\n  // Localization\n  translations Json?\n\n  version Int @default(1)\n\n  @@index([slug])\n}\n\n// =============================================================================\n// OFFLINE: SYNC QUEUE (optional, if using server-side queue)\n// =============================================================================\n\nmodel SyncQueueItem {\n  id     String @id @default(cuid())\n  userId String\n\n  // Operation\n  operation String // \"create\", \"update\", \"delete\"\n  resource  String // \"dreamEntry\", \"promptResponse\", etc.\n  payload   Json\n\n  // Status\n  status    String  @default(\"pending\") // \"pending\", \"processing\", \"completed\", \"failed\"\n  attempts  Int     @default(0)\n  lastError String?\n\n  // Timestamps\n  createdAt   DateTime  @default(now())\n  processedAt DateTime?\n\n  @@index([userId, status])\n  @@index([status, createdAt])\n}\n",
  "inlineSchemaHash": "8ef8c4365f1d5e3d16f210d9bae84a0aa662af663ce09d65f1a46dd5c3fb1a0f",
  "copyEngine": true
}
config.dirname = '/'

config.runtimeDataModel = JSON.parse("{\"models\":{\"User\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"displayName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"email\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"emailVerifiedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"timezone\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"locale\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"encryptionKeyVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"keyRecoveryMethod\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"keySalt\",\"kind\":\"scalar\",\"type\":\"Bytes\"},{\"name\":\"sessions\",\"kind\":\"object\",\"type\":\"Session\",\"relationName\":\"SessionToUser\"},{\"name\":\"dreamEntries\",\"kind\":\"object\",\"type\":\"DreamEntry\",\"relationName\":\"DreamEntryToUser\"},{\"name\":\"censusAnswers\",\"kind\":\"object\",\"type\":\"CensusAnswer\",\"relationName\":\"CensusAnswerToUser\"},{\"name\":\"promptResponses\",\"kind\":\"object\",\"type\":\"PromptResponse\",\"relationName\":\"PromptResponseToUser\"},{\"name\":\"consents\",\"kind\":\"object\",\"type\":\"Consent\",\"relationName\":\"ConsentToUser\"},{\"name\":\"events\",\"kind\":\"object\",\"type\":\"Event\",\"relationName\":\"EventToUser\"},{\"name\":\"studyParticipations\",\"kind\":\"object\",\"type\":\"StudyParticipation\",\"relationName\":\"StudyParticipationToUser\"},{\"name\":\"categoryProgress\",\"kind\":\"object\",\"type\":\"CategoryProgress\",\"relationName\":\"CategoryProgressToUser\"}],\"dbName\":null},\"Session\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"SessionToUser\"},{\"name\":\"tokenHash\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"deviceId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"deviceName\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lastActiveAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"VerificationToken\":{\"fields\":[{\"name\":\"identifier\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"token\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"expiresAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Event\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"EventToUser\"},{\"name\":\"type\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"payload\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"timestamp\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"sequence\",\"kind\":\"scalar\",\"type\":\"BigInt\"},{\"name\":\"aggregateId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"aggregateType\",\"kind\":\"scalar\",\"type\":\"String\"}],\"dbName\":null},\"DreamEntry\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"DreamEntryToUser\"},{\"name\":\"ciphertext\",\"kind\":\"scalar\",\"type\":\"Bytes\"},{\"name\":\"iv\",\"kind\":\"scalar\",\"type\":\"Bytes\"},{\"name\":\"keyVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"audioUrl\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"emotions\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"vividness\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lucidity\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dreamTypes\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sleepQuality\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"hoursSlept\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"wakeTime\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"wakingLifeLink\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"capturedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"facts\",\"kind\":\"object\",\"type\":\"JournalFact\",\"relationName\":\"DreamEntryToJournalFact\"},{\"name\":\"tags\",\"kind\":\"object\",\"type\":\"DreamTag\",\"relationName\":\"DreamEntryToDreamTag\"}],\"dbName\":null},\"JournalFact\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dreamEntryId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dreamEntry\",\"kind\":\"object\",\"type\":\"DreamEntry\",\"relationName\":\"DreamEntryToJournalFact\"},{\"name\":\"factType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"confidence\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"ontologyVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"modelVersion\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"promptVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"startIndex\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"endIndex\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"extractedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Tag\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"taxonomyId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"taxonomyVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"usageCount\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"dreamTags\",\"kind\":\"object\",\"type\":\"DreamTag\",\"relationName\":\"DreamTagToTag\"}],\"dbName\":null},\"DreamTag\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dreamEntryId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dreamEntry\",\"kind\":\"object\",\"type\":\"DreamEntry\",\"relationName\":\"DreamEntryToDreamTag\"},{\"name\":\"tagId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"tag\",\"kind\":\"object\",\"type\":\"Tag\",\"relationName\":\"DreamTagToTag\"},{\"name\":\"source\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"CensusInstrument\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"version\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"isRequired\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sections\",\"kind\":\"object\",\"type\":\"CensusSection\",\"relationName\":\"CensusInstrumentToCensusSection\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"CensusSection\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"instrumentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"instrument\",\"kind\":\"object\",\"type\":\"CensusInstrument\",\"relationName\":\"CensusInstrumentToCensusSection\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"icon\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"estimatedTime\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"questions\",\"kind\":\"object\",\"type\":\"CensusQuestion\",\"relationName\":\"CensusQuestionToCensusSection\"}],\"dbName\":null},\"CensusQuestion\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sectionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"section\",\"kind\":\"object\",\"type\":\"CensusSection\",\"relationName\":\"CensusQuestionToCensusSection\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"text\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"helpText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"props\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"isRequired\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"validation\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"irtParams\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"showWhen\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"groupId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"groupLabel\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"answers\",\"kind\":\"object\",\"type\":\"CensusAnswer\",\"relationName\":\"CensusAnswerToCensusQuestion\"}],\"dbName\":null},\"CensusAnswer\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CensusAnswerToUser\"},{\"name\":\"questionId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"question\",\"kind\":\"object\",\"type\":\"CensusQuestion\",\"relationName\":\"CensusAnswerToCensusQuestion\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"instrumentVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"CensusProgress\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sectionProgress\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"totalCompleted\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"totalQuestions\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"scores\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"lastActivityAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"CensusCategory\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"icon\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"color\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"forms\",\"kind\":\"object\",\"type\":\"CensusForm\",\"relationName\":\"CensusCategoryToCensusForm\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"CensusForm\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"categoryId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"object\",\"type\":\"CensusCategory\",\"relationName\":\"CensusCategoryToCensusForm\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"estimatedMinutes\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"sortOrder\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"prerequisiteFormId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"promptThreshold\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"CategoryProgress\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"CategoryProgressToUser\"},{\"name\":\"categoryId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"promptAnswers\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"formsStarted\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"formsComplete\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"lastActivityAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Prompt\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"text\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"type\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"responseType\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"responseProps\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"isActive\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"frequency\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"targetingRules\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"studyId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"study\",\"kind\":\"object\",\"type\":\"Study\",\"relationName\":\"PromptToStudy\"},{\"name\":\"responses\",\"kind\":\"object\",\"type\":\"PromptResponse\",\"relationName\":\"PromptToPromptResponse\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"PromptResponse\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"PromptResponseToUser\"},{\"name\":\"promptId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"prompt\",\"kind\":\"object\",\"type\":\"Prompt\",\"relationName\":\"PromptToPromptResponse\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"shownAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"respondedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"skipped\",\"kind\":\"scalar\",\"type\":\"Boolean\"}],\"dbName\":null},\"Consent\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"ConsentToUser\"},{\"name\":\"scope\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"version\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"granted\",\"kind\":\"scalar\",\"type\":\"Boolean\"},{\"name\":\"timestamp\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"receiptHash\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"policyHash\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"jurisdiction\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"ipHash\",\"kind\":\"scalar\",\"type\":\"String\"}],\"dbName\":null},\"WeatherAggregate\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"metric\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"period\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"periodStart\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"value\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"sampleN\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"dpEpsilon\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"dpDelta\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"minNThreshold\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"region\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"methodVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"computedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"PersonalWeather\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"weather\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"streaks\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"lastComputedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Study\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"title\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"institution\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"dataScope\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"duration\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"consentText\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"consentVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"startsAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"endsAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"maxParticipants\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"participations\",\"kind\":\"object\",\"type\":\"StudyParticipation\",\"relationName\":\"StudyToStudyParticipation\"},{\"name\":\"prompts\",\"kind\":\"object\",\"type\":\"Prompt\",\"relationName\":\"PromptToStudy\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"updatedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"StudyParticipation\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"user\",\"kind\":\"object\",\"type\":\"User\",\"relationName\":\"StudyParticipationToUser\"},{\"name\":\"studyId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"study\",\"kind\":\"object\",\"type\":\"Study\",\"relationName\":\"StudyToStudyParticipation\"},{\"name\":\"consentedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"consentVersion\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"withdrawnAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"withdrawalReason\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"completedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null},\"Emotion\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"valence\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"arousal\",\"kind\":\"scalar\",\"type\":\"Float\"},{\"name\":\"parentId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"parent\",\"kind\":\"object\",\"type\":\"Emotion\",\"relationName\":\"EmotionHierarchy\"},{\"name\":\"children\",\"kind\":\"object\",\"type\":\"Emotion\",\"relationName\":\"EmotionHierarchy\"},{\"name\":\"translations\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"version\",\"kind\":\"scalar\",\"type\":\"Int\"}],\"dbName\":null},\"Symbol\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"category\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"interpretations\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"translations\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"version\",\"kind\":\"scalar\",\"type\":\"Int\"}],\"dbName\":null},\"Theme\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"name\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"slug\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"description\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"relatedSlugs\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"translations\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"version\",\"kind\":\"scalar\",\"type\":\"Int\"}],\"dbName\":null},\"SyncQueueItem\":{\"fields\":[{\"name\":\"id\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"userId\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"operation\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"resource\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"payload\",\"kind\":\"scalar\",\"type\":\"Json\"},{\"name\":\"status\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"attempts\",\"kind\":\"scalar\",\"type\":\"Int\"},{\"name\":\"lastError\",\"kind\":\"scalar\",\"type\":\"String\"},{\"name\":\"createdAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"},{\"name\":\"processedAt\",\"kind\":\"scalar\",\"type\":\"DateTime\"}],\"dbName\":null}},\"enums\":{},\"types\":{}}")
defineDmmfProperty(exports.Prisma, config.runtimeDataModel)
config.engineWasm = {
  getRuntime: async () => require('./query_engine_bg.js'),
  getQueryEngineWasmModule: async () => {
    const loader = (await import('#wasm-engine-loader')).default
    const engine = (await loader).default
    return engine
  }
}
config.compilerWasm = undefined

config.injectableEdgeEnv = () => ({
  parsed: {
    DATABASE_URL: typeof globalThis !== 'undefined' && globalThis['DATABASE_URL'] || typeof process !== 'undefined' && process.env && process.env.DATABASE_URL || undefined
  }
})

if (typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined) {
  Debug.enable(typeof globalThis !== 'undefined' && globalThis['DEBUG'] || typeof process !== 'undefined' && process.env && process.env.DEBUG || undefined)
}

const PrismaClient = getPrismaClient(config)
exports.PrismaClient = PrismaClient
Object.assign(exports, Prisma)

